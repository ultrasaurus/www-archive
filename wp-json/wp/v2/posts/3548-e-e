{"id":3548,"date":"2012-01-22T08:40:52","date_gmt":"2012-01-22T16:40:52","guid":{"rendered":"https:\/\/www.ultrasaurus.com\/?p=3548"},"modified":"2012-01-22T08:40:52","modified_gmt":"2012-01-22T16:40:52","slug":"cucumber-and-custom-rspec-matchers-with-rails-3-1","status":"publish","type":"post","link":"https:\/\/www.ultrasaurus.com\/2012\/01\/cucumber-and-custom-rspec-matchers-with-rails-3-1\/","title":{"rendered":"cucumber and custom rspec matchers with rails 3.1"},"content":{"rendered":"<p>I&#8217;m working my way through an epic Rails 3.1 upgrade and some of my cucumber features were failing because I was using a custom RSpec matcher and the method wasn&#8217;t found.<\/p>\n<p>My custom matcher looks something like this:<\/p>\n<pre>\nmodule CustomMatchers\n\n  class XmlSubsetMatcher\n      :\n  end\n\n  def be_xml_subset_of(expected)\n    XmlSubsetMatcher.new(expected)\n  end\n<\/pre>\n<p>and when I ran my feature I was getting this failure:<br \/>\n<code><br \/>\n      undefined method `xml_subset_of?' for # (NoMethodError)<br \/>\n<\/code><\/p>\n<p>As it turns out, in my zeal to make sure everything was using the latest and great new stuff, I had forgotten to move over this critical configuration line in cucumbers env.rb:<\/p>\n<p><code><br \/>\nWorld(CustomMatchers)<br \/>\n<\/code><\/p>\n<p>Now, my cucumber feature is happily failing cuz my code doesn&#8217;t work. Whew.  I couldn&#8217;t find this documented anywhere and I&#8217;m not even sure where this documentation would belong.  I found a hint on the <a href=\"https:\/\/github.com\/cucumber\/cucumber\/wiki\/RSpec-Expectations\">cucumber wiki rspec expectations page<\/a>, but none of the code on that page is actually needed when using cucumber with Rails, so I decided not to touch it and just write this blog post.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>I&#8217;m working my way through an epic Rails 3.1 upgrade and some of my cucumber features were failing because I was using a custom RSpec matcher and the method wasn&#8217;t found. My custom matcher looks something like this: module CustomMatchers class XmlSubsetMatcher : end def be_xml_subset_of(expected) XmlSubsetMatcher.new(expected) end and when I ran my feature I&hellip; <a href=\"https:\/\/www.ultrasaurus.com\/2012\/01\/cucumber-and-custom-rspec-matchers-with-rails-3-1\/\">Continue reading <span class=\"meta-nav\">&rarr;<\/span><\/a><\/p>\n","protected":false},"author":84,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[2],"tags":[],"_links":{"self":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/3548"}],"collection":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/users\/84"}],"replies":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/comments?post=3548"}],"version-history":[{"count":0,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/3548\/revisions"}],"wp:attachment":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/media?parent=3548"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/categories?post=3548"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/tags?post=3548"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}