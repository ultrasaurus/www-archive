{"id":4000,"date":"2013-07-08T13:18:20","date_gmt":"2013-07-08T21:18:20","guid":{"rendered":"https:\/\/www.ultrasaurus.com\/?p=4000"},"modified":"2013-07-08T13:18:20","modified_gmt":"2013-07-08T21:18:20","slug":"easy-drupal-install-on-mac-osx-lion","status":"publish","type":"post","link":"https:\/\/www.ultrasaurus.com\/2013\/07\/easy-drupal-install-on-mac-osx-lion\/","title":{"rendered":"easy drupal install on mac osx lion"},"content":{"rendered":"<p>Lion comes with Apache and PHP installed.  We just need to enable PHP, install MySql and create a database, then download drupal.<\/p>\n<h2>Enable PHP<\/h2>\n<p>My new laptop which came with Lion has PHP 5.3.15, using the test page we&#8217;ll build below you can verify you&#8217;ve got a <a href=\"https:\/\/drupal.org\/requirements\">good version of PHP<\/a> to go with the Drupal you need:<\/p>\n<ul>\n<li>Drupal 6: PHP 4.4.0 or higher (5.2 recommended).<\/li>\n<li>Drupal 7: PHP 5.2.5 or higher (5.3 recommended).<\/li>\n<li>Drupal 8: PHP 5.3.10 or higher.<\/li>\n<\/ul>\n<p> Commands below use vi (of course, you should use your editor of choice). (thank you <a href=\"http:\/\/stackoverflow.com\/questions\/6790568\/how-do-you-get-php-working-on-mac-os-x-lion-10-7\">stackoverflow<\/a>)<\/p>\n<p>You&#8217;ll need <code>sudo<\/code> to edit the Apache config file: <\/p>\n<pre> \nsudo vi \/etc\/apache2\/httpd.conf\n<\/pre>\n<p>uncomment the following line:<\/p>\n<pre>\nLoadModule php5_module libexec\/apache2\/libphp5.so\n<\/pre>\n<p>On the following line change <code>_www<\/code> to the username you log in with:<\/p>\n<pre>\nUser _www\n<\/pre>\n<p>By default, Apache only loads index.html, so update that line to:<\/p>\n<pre>\nDirectoryIndex index.html index.php index.htm\n<\/pre>\n<p>Restart apache on the command line<\/p>\n<pre>\nsudo apachectl restart\n<\/pre>\n<p>Now, let&#8217;s make a test file:<\/p>\n<pre>\ncd ~\/Sites\nmkdir php-test\ncd php-test\/\nvi index.php\n<\/pre>\n<p>Then paste in this <a href=\"https:\/\/gist.github.com\/ultrasaurus\/5943921\">test file<\/a> and browse to <code>http:\/\/localhost\/~yourusername\/php-test\/<\/code><\/p>\n<h2>Install MySql<\/h2>\n<p>I like to install everything with <a href=\"http:\/\/mxcl.github.io\/homebrew\/\">homebrew<\/a> which is my favorite package manager for osx.  It keeps everything in <code>\/usr\/local\/<\/code> by default, and then I don&#8217;t have to remember where GUI installers put everything.<\/p>\n<pre> \nbrew install mysql\n<\/pre>\n<p>I like to have MySql always start up, so I use a Launch Agent, which homebrew describes how to do after the install:<\/p>\n<pre>\nTo have launchd start mysql at login:\n    ln -sfv \/usr\/local\/opt\/mysql\/*.plist ~\/Library\/LaunchAgents\nThen to load mysql now:\n    launchctl load ~\/Library\/LaunchAgents\/homebrew.mxcl.mysql.plist\nOr, if you don't want\/need launchctl, you can just run:\n    mysql.server start\n<\/pre>\n<p>Now make a database:<\/p>\n<pre>\nmysqladmin -uroot create drupal_dev\n<\/pre>\n<p>The default way this is set up is for a dev environment, so there&#8217;s no password and root has full access.  You can see this in the mysql console:<\/p>\n<pre>\nmysql -uroot\nshow databases;\nshow grants;\n<\/pre>\n<p>Now we need to fix the PHP configuration to refer to mysql correctly so we don&#8217;t get PDO errors (thanks <a href=\"http:\/\/blog.hiraash.org\/2012\/09\/17\/pdo-for-the-default-installation-of-php-on-mac-osx\/\">Hiraash<\/a>):<\/p>\n<pre>\nsudo cp \/etc\/php.ini.default \/etc\/php.ini\nvi \/etc\/php.ini\n<\/pre>\n<p>replace all instances of <code>\/var\/mysql\/mysql.sock<\/code> with <code>\/tmp\/mysql.sock<\/code><br \/>\nand restart apache<\/p>\n<pre>\nsudo apachectl restart\n<\/pre>\n<h2>Download Drupal<\/h2>\n<p>I followed the <a href=\"https:\/\/drupal.org\/documentation\/install\/download\">drupal.org instructions<\/a>, but you need to go find the <a href=\"https:\/\/drupal.org\/project\/Drupal\">right version<\/a>.  As of this writing, 7.22 is the recommended v7 release, which is what I&#8217;ll be working with.  <\/p>\n<pre>\ncd ~\/Sites\nwget http:\/\/ftp.drupal.org\/files\/projects\/drupal-7.22.tar.gz\ntar -xzvf drupal-7.22.tar.gz\nrm drupal-7.22.tar.gz\n<\/pre>\n<p>Now, I&#8217;ll just rename it to be the same name as the database we set up:<\/p>\n<pre>\nmv drupal-7.22 drupal_dev\n<\/pre>\n<p>browse to <code>http:\/\/localhost\/~yourusername\/drupal-dev<\/code> and proceed with the install wizard<\/p>\n<p><img style=\"border:1px solid #ccc;width:60%;height:60%\" src=\"http:\/\/monosnap.com\/image\/ocxB8VYvpm1SC0HafuKPcSXfp.png\"><\/p>\n<p>step through the wizard and drupal sets itself up.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Lion comes with Apache and PHP installed. We just need to enable PHP, install MySql and create a database, then download drupal. Enable PHP My new laptop which came with Lion has PHP 5.3.15, using the test page we&#8217;ll build below you can verify you&#8217;ve got a good version of PHP to go with the&hellip; <a href=\"https:\/\/www.ultrasaurus.com\/2013\/07\/easy-drupal-install-on-mac-osx-lion\/\">Continue reading <span class=\"meta-nav\">&rarr;<\/span><\/a><\/p>\n","protected":false},"author":84,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[2],"tags":[],"_links":{"self":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/4000"}],"collection":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/users\/84"}],"replies":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/comments?post=4000"}],"version-history":[{"count":0,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/4000\/revisions"}],"wp:attachment":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/media?parent=4000"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/categories?post=4000"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/tags?post=4000"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}