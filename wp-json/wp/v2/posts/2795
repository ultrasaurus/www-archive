{"id":2795,"date":"2010-09-07T02:14:06","date_gmt":"2010-09-07T10:14:06","guid":{"rendered":"https:\/\/www.ultrasaurus.com\/?p=2795"},"modified":"2010-09-07T02:14:06","modified_gmt":"2010-09-07T10:14:06","slug":"rails-3-vs-rails-2-validation-errors","status":"publish","type":"post","link":"https:\/\/www.ultrasaurus.com\/2010\/09\/rails-3-vs-rails-2-validation-errors\/","title":{"rendered":"rails 3 vs. rails 2 validation errors"},"content":{"rendered":"<p>Not sure if this is a bug or a feature.  I&#8217;d guess it is here for a reason, and maybe I&#8217;m late for noticing, but Rails 3 errors now provides an array for each attribute, whereas in Rails 2.3 it was just a string.\u00a0 Here&#8217;s the output from two almost identical applications&#8230;<\/p>\n<p>Loading development environment (Rails 2.3.8)<br \/>\n&gt;&gt; person = Person.new<br \/>\n=&gt; #&lt;Person id: nil, first_name: nil, last_name: nil, present: nil&#8230;<br \/>\n&gt;&gt; person.valid?<br \/>\n=&gt; false<br \/>\n&gt;&gt; person.errors<br \/>\n=&gt; #&lt;ActiveRecord::Errors:0x1034d8f10 @errors=#&lt;OrderedHash &#8230;<br \/>\n&gt;&gt; person.errors[:first_name]<br \/>\n=&gt; &#8220;can&#8217;t be blank&#8221;<\/p>\n<p>Loading development environment (Rails 3.0.0)<br \/>\n&gt;&gt; person = Person.new<br \/>\n=&gt; #&lt;Person id: nil, first_name: nil, last_name: nil, present: nil&#8230;<br \/>\n&gt;&gt; person.valid?<br \/>\n=&gt; false<br \/>\n&gt;&gt; person.errors<br \/>\n=&gt; {:first_name=&gt;[&#8220;can&#8217;t be blank&#8221;]}<br \/>\n&gt;&gt; person.errors.class<br \/>\n=&gt; ActiveModel::Errors<br \/>\n&gt;&gt; person.errors[:first_name]<br \/>\n=&gt; [&#8220;can&#8217;t be blank&#8221;]<\/p>\n<p>I didn&#8217;t see that in the release notes, but it failed my tests for ActiveRecord class.  Someone else must have a list of these details, yes?<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Not sure if this is a bug or a feature. I&#8217;d guess it is here for a reason, and maybe I&#8217;m late for noticing, but Rails 3 errors now provides an array for each attribute, whereas in Rails 2.3 it was just a string.\u00a0 Here&#8217;s the output from two almost identical applications&#8230; Loading development environment&hellip; <a href=\"https:\/\/www.ultrasaurus.com\/2010\/09\/rails-3-vs-rails-2-validation-errors\/\">Continue reading <span class=\"meta-nav\">&rarr;<\/span><\/a><\/p>\n","protected":false},"author":84,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[2],"tags":[],"_links":{"self":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/2795"}],"collection":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/users\/84"}],"replies":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/comments?post=2795"}],"version-history":[{"count":0,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/2795\/revisions"}],"wp:attachment":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/media?parent=2795"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/categories?post=2795"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/tags?post=2795"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}