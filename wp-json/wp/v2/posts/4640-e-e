{"id":4640,"date":"2013-10-13T11:25:19","date_gmt":"2013-10-13T19:25:19","guid":{"rendered":"https:\/\/www.ultrasaurus.com\/?p=4640"},"modified":"2013-10-13T11:25:19","modified_gmt":"2013-10-13T19:25:19","slug":"rails-4-with-mongodb-on-osx","status":"publish","type":"post","link":"https:\/\/www.ultrasaurus.com\/2013\/10\/rails-4-with-mongodb-on-osx\/","title":{"rendered":"rails 4 with mongodb on osx"},"content":{"rendered":"<p>This post covers getting started with Rails 4 and Mongodb, using the Mongoid gem.  As part of getting up to speed, I enjoyed reading <a href=\"http:\/\/blog.mongodb.org\/post\/53271876885\/ruby-rails-mongodb-and-the-object-relational-mismatch\">Rails + Mongo take on the object-relational mismatch<\/a> by Emily Stolfo from MongoDB.  <\/p>\n<p>For starters, here&#8217;s a how to create a super simple toy app.  I assume Ruby is installed via rvm, but you are new to Mongo.<\/p>\n<h2>Install Mongodb on Mac OSX<\/h2>\n<pre>brew update\nbrew install mongodb<\/pre>\n<blockquote><p>To have launchd start mongodb at login:<br \/>\nln -sfv \/usr\/local\/opt\/mongodb\/*.plist ~\/Library\/LaunchAgents<br \/>\nThen to load mongodb now:<br \/>\nlaunchctl load ~\/Library\/LaunchAgents\/homebrew.mxcl.mongodb.plist<br \/>\nOr, if you don&#8217;t want\/need launchctl, you can just run:<br \/>\nmongod<\/p><\/blockquote>\n<h2>Rails 4 with Mongoid<\/h2>\n<p>I chose Mongoid over MongoMapper (see <\/span><a href=\"http:\/\/www.quora.com\/What-are-the-advantages-of-using-MongoMapper-versus-using-Mongoid\">quora<\/a>, <a href=\"http:\/\/stackoverflow.com\/questions\/1958365\/mongoid-or-mongomapper\">stackoverflow<\/a>)<br \/>\nI used MRI 1.9.3 (at this writing, Mongoid supports HEAD but not 2.0)<br \/>\nrvmrc:<br \/>\n<code><br \/>\nrvm use ruby-1.9.3-p429@rails4 --create<br \/>\n<\/code><\/p>\n<p>added to Gemfile:<br \/>\n<code><br \/>\ngem \"mongoid\", git: 'git:\/\/github.com\/mongoid\/mongoid.git'<br \/>\n<\/code><\/p>\n<p>on the command-line:<br \/>\n<code><br \/>\nrails new mongo-people --skip-active-record<br \/>\nrails generate mongoid:config<br \/>\nrails generate scaffold person name street city state<br \/>\nrails s<br \/>\n<\/code><\/p>\n<p>Woo hoo! We&#8217;ve got an app &#8212; looks like a vanilla Rails app from the outside, but it is different on the inside:<\/p>\n<pre>\nclass Person\n  include Mongoid::Document\n  field :name, type: String\n  field :street, type: String\n  field :city, type: String\n  field :state, type: String\nend\n<\/pre>\n<p>No database migrations needed.  If we want a new field, we could just declare one in the model and add it to our views.  I assume migrations could be used for data migration, but that would be a subject of another post.<\/p>\n<h2>References<\/h2>\n<p><a href=\"http:\/\/moredevideas.wordpress.com\/2013\/04\/26\/rails-4-with-mongodb\/\">Rails 4 with MongoDB Tutorial<\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>This post covers getting started with Rails 4 and Mongodb, using the Mongoid gem. As part of getting up to speed, I enjoyed reading Rails + Mongo take on the object-relational mismatch by Emily Stolfo from MongoDB. For starters, here&#8217;s a how to create a super simple toy app. I assume Ruby is installed via&hellip; <a href=\"https:\/\/www.ultrasaurus.com\/2013\/10\/rails-4-with-mongodb-on-osx\/\">Continue reading <span class=\"meta-nav\">&rarr;<\/span><\/a><\/p>\n","protected":false},"author":84,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[2],"tags":[],"_links":{"self":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/4640"}],"collection":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/users\/84"}],"replies":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/comments?post=4640"}],"version-history":[{"count":0,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/4640\/revisions"}],"wp:attachment":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/media?parent=4640"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/categories?post=4640"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/tags?post=4640"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}