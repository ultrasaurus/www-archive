{"id":3401,"date":"2011-09-11T08:37:17","date_gmt":"2011-09-11T16:37:17","guid":{"rendered":"https:\/\/www.ultrasaurus.com\/?p=3401"},"modified":"2011-09-11T08:37:17","modified_gmt":"2011-09-11T16:37:17","slug":"rails-3-0-and-rake-0-9-2","status":"publish","type":"post","link":"https:\/\/www.ultrasaurus.com\/2011\/09\/rails-3-0-and-rake-0-9-2\/","title":{"rendered":"rails 3.0 and rake 0.9.2"},"content":{"rendered":"<p>I really want to upgrade a Rails 3.0 project to Rails 3.1, but I&#8217;ve done a few spikes and it lacks test coverage, so I decided to pull in cucumber and write some features before moving forward.<\/p>\n<p>I added cucumber-rails to my gemfile, and ran &#8220;bundle&#8221; and got this error:<\/p>\n<pre>\n\/Users\/sarah\/.rvm\/rubies\/ruby-1.9.2-p290\/lib\/ruby\/site_ruby\/1.9.1\/rubygems\/specification.rb:289:in `load': uninitialized constant Psych::Syck (NameError)\n<\/pre>\n<p>What I really needed was to <a href=\"http:\/\/blog.rubygems.org\/2011\/08\/31\/shaving-the-yaml-yacc.html\">update my Ruby Gems<\/a> (bundle update &#8211;system) but before I discovered that I did &#8220;bundle update&#8221; which moved me forward to rake 0.9.2, so I started getting these warnings:<\/p>\n<pre>\n\/Users\/sarah\/.rvm\/gems\/ruby-1.9.2-p290@pie-bakery\/gems\/psych-1.2.1\/lib\/psych.rb:93: warning: already initialized constant VERSION\n\/Users\/sarah\/.rvm\/gems\/ruby-1.9.2-p290@pie-bakery\/gems\/psych-1.2.1\/lib\/psych.rb:96: warning: already initialized constant LIBYAML_VERSION\nWARNING: Global access to Rake DSL methods is deprecated.\u00a0 Please include\n...\u00a0 Rake::DSL into classes and modules which use the Rake DSL methods.\nWARNING: DSL method Bakery::Application#task called at \/Users\/sarah\/.rvm\/gems\/ruby-1.9.2-p290@pie-bakery\/gems\/railties-3.0.0\/lib\/rails\/application.rb:214:in `initialize_tasks'\n<\/pre>\n<p>So, I&#8217;ve learned from google, stackoverflow, various blogs and my twitter friend <a href=\"http:\/\/twitter.com\/#!\/excid3\">@excid3<\/a> that I need to update my Rakefile to include:<\/p>\n<pre>\nrequire 'rake\/dsl_definition'\nrequire 'rake'\ninclude Rake::DSL\n<\/pre>\n<p>That lets me use rake (yay!).  I still have the following two warnings:<\/p>\n<pre>\n\/Users\/sarah\/.rvm\/gems\/ruby-1.9.2-p290@pie-bakery\/gems\/psych-1.2.1\/lib\/psych.rb:93: warning: already initialized constant VERSION\n\/Users\/sarah\/.rvm\/gems\/ruby-1.9.2-p290@pie-bakery\/gems\/psych-1.2.1\/lib\/psych.rb:96: warning: already initialized constant LIBYAML_VERSION\n<\/pre>\n<p>which I&#8217;m hoping will go away with the Rails 3.1 upgrade, but I thought I would write up the rest of it in case it helps other wayward souls on their journey.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>I really want to upgrade a Rails 3.0 project to Rails 3.1, but I&#8217;ve done a few spikes and it lacks test coverage, so I decided to pull in cucumber and write some features before moving forward. I added cucumber-rails to my gemfile, and ran &#8220;bundle&#8221; and got this error: \/Users\/sarah\/.rvm\/rubies\/ruby-1.9.2-p290\/lib\/ruby\/site_ruby\/1.9.1\/rubygems\/specification.rb:289:in `load&#8217;: uninitialized constant Psych::Syck&hellip; <a href=\"https:\/\/www.ultrasaurus.com\/2011\/09\/rails-3-0-and-rake-0-9-2\/\">Continue reading <span class=\"meta-nav\">&rarr;<\/span><\/a><\/p>\n","protected":false},"author":84,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[2],"tags":[],"_links":{"self":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/3401"}],"collection":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/users\/84"}],"replies":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/comments?post=3401"}],"version-history":[{"count":0,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/3401\/revisions"}],"wp:attachment":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/media?parent=3401"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/categories?post=3401"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/tags?post=3401"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}