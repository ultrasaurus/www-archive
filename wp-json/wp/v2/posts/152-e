{"id":152,"date":"2005-01-09T17:56:06","date_gmt":"2005-01-10T01:56:06","guid":{"rendered":"https:\/\/www.ultrasaurus.com\/wordpress\/?p=152"},"modified":"2005-01-09T17:56:06","modified_gmt":"2005-01-10T01:56:06","slug":"debugging","status":"publish","type":"post","link":"https:\/\/www.ultrasaurus.com\/2005\/01\/debugging\/","title":{"rendered":"debugging"},"content":{"rendered":"<p>Back at my day job last week, I was faced once again with a mystery bug.  This bug seemed to defy logic and the physical laws of the universe.  The whole system behaved correctly, except for the undesired behavior.<\/p>\n<p>I was tired.  It really felt like someone else&#8217;s bug.  It would take me a half hour just to write an isolated test case.  (I could hear <a href=\"http:\/\/www.unikron.com\/agitar1\/\">Kent Beck&#8217;s voice<\/a> reminding me that developer testing really does save time.)  Everyone on my team is supposed to write unit tests.  Of course there wasn&#8217;t one for this particular unit.  I considered chastising the developer in question and investigating the bug another day.   Unfortunately usability testing was scheduled for the next day, and this bug was &#8230;ahem.. bugging me, and I felt it would affect the usability of the app.<\/p>\n<p>A long time ago when I was working on a solo project and dispairing of ever finding a particular bug.  I had been hunting for this bug on-and-off for days.  It was a large, not particularly wonderful code base that I had adopted from an acquistion.  There really was no one at the company who knew much about it.  I was alone in my SF office and I was at my wits end.  I remember calling my long-time friend and co-worker David Simons and asking &#8220;what if I never find this bug?&#8221; and he asked me &#8220;Has there ever been a bug you haven&#8217;t fixed?&#8221;  Well sure, we always have to defer some bugs.  &#8220;No,&#8221; he said, &#8220;one that had to be fixed.&#8221;  Begrudgingly, I admitted, that I had actually fixed every bug I had ever set out to find.  I hung up the phone, took a deep breath, and hunted it down.<\/p>\n<p>At times like this when debugging seems bleak and hopeless I always ask myself that question and I reflected that this bug is not likely to be any harder to find than the most difficult bug I&#8217;ve ever fixed.  In fact, this bug was likely to not even rank my top ten.<\/p>\n<p>Also for this bug I did have a good clue.  A colleague of mine had taken a look at it in the late afternoon and had discovered something I hadn&#8217;t noticed.  I instrumented the code a bit and saw the same odd behavior.<\/p>\n<p>I spent hours examining the state of run-time, puzzling over variables that did not have the appropriate value.  I kept thinking I had discovered that cause of the bug, but my code changes had no effect on the sympton.  I had found 8 different variables that proved that the state of the app is disastrously incorrect.  After while, I noticed that the symptoms had changed from my original observations.  The app was more broken that it was initially.   I removed my instrumentation and voila the bug was fixed.  I had actually fixed this bug an hour before, but I had introduced another problem with my debugging statements.<\/p>\n<p>Aha!  A Heisenbug, so called from the Heisenberg uncertainty principle.  From quantum mechanics: &#8220;The more precisely the position is determined, the less precisely the momentum is known.&#8221;  And more generally, Heisenberg introduced the notion that when you measure something, you change its behvior.<\/p>\n<p>I find that the more experience I have debugging software the more I see patterns in the kinds of problems I find.  Most of the patterns are not so delightfully named as the Heisenbug.  I wonder&#8230; does anyone else have good names for common bugs?<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Back at my day job last week, I was faced once again with a mystery bug. This bug seemed to defy logic and the physical laws of the universe. The whole system behaved correctly, except for the undesired behavior. I was tired. It really felt like someone else&#8217;s bug. It would take me a half&hellip; <a href=\"https:\/\/www.ultrasaurus.com\/2005\/01\/debugging\/\">Continue reading <span class=\"meta-nav\">&rarr;<\/span><\/a> <a href=\"https:\/\/www.ultrasaurus.com\/2005\/01\/debugging\/\">Continue reading <span class=\"meta-nav\">&rarr;<\/span><\/a><\/p>\n","protected":false},"author":84,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[1],"tags":[],"_links":{"self":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/152"}],"collection":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/users\/84"}],"replies":[{"embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/comments?post=152"}],"version-history":[{"count":0,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/posts\/152\/revisions"}],"wp:attachment":[{"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/media?parent=152"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/categories?post=152"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.ultrasaurus.com\/wp-json\/wp\/v2\/tags?post=152"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}